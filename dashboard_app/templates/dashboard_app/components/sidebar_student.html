{% load static %}
<!-- Sidebar (responsive) -->
<!-- Off-canvas wrapper: starts hidden on small screens, visible on md+ -->
<div id="sidebarOverlay" class="fixed inset-0 bg-black bg-opacity-40 z-30 hidden md:hidden"></div>
<div id="sidebar" class="fixed inset-y-0 left-0 z-40 md:w-72 transform -translate-x-full md:translate-x-0 transition-all duration-300 bg-white border-r border-gray-200">

  <div class="flex items-center mx-auto p-4 text-[#a2314b] ml-1">
    <img src="{% static 'core_app/images/logo.png' %}" class="w-[50px] h-[50px] mr-3" alt="Logo">
    <div class = "grid grid-col">
      <h1 class="text-2xl font-bold sidebar-label">Cattendance</h1>
      <p class = "text-sm text-gray-700 sidebar-label">Student Portal</p>
    </div>
  </div>

  <hr class =  "mb-5">
  <nav class="flex flex-col gap-y-2">
    <!-- Dashboard -->
    <div class="px-5">
      <a href="{{ dashboard_url }}"
         class="flex items-center hover:bg-gray-100 px-4 py-3 rounded-lg
         {% if p == dashboard_url %}bg-[#f3e9ec] text-[#a2314b] font-semibold{% else %}text-gray-700{% endif %}">
        <i class="fa-regular fa-grid-2 mr-3"></i>
        <span class="sidebar-label">Dashboard</span>
      </a>
    </div>

    <!-- My Attendance (goes to classes; highlights on classes + view_attendance) -->
    <div class="px-5">
      <a href="{{ classes_url }}"
         class="flex items-center hover:bg-gray-100 px-4 py-3 rounded-lg
         {% if classes_url in p %}bg-[#f3e9ec] text-[#a2314b] font-semibold{% else %}text-gray-700{% endif %}">
        <i class="fa-regular fa-calendar mr-3"></i>
        <span class="sidebar-label">My Attendance</span>
      </a>
    </div>

    <!-- Profile -->
    <div class="px-5">
      <a href="{{ profile_url }}"
         class="flex items-center hover:bg-gray-100 px-4 py-3 rounded-lg
         {% if p == profile_url %}bg-[#f3e9ec] text-[#a2314b] font-semibold{% else %}text-gray-700{% endif %}">
        <i class="fa-regular fa-user mr-3"></i>
        <span class="sidebar-label">Profile</span>
      </a>
    </div>

    <!-- Settings (placeholder) -->
    <div class="px-5">
      <a href="#"
         class="flex items-center hover:bg-gray-100 px-4 py-3 rounded-lg text-gray-700">
        <i class="fa-regular fa-gear mr-3"></i>
        <span class="sidebar-label">Settings</span>
      </a>
    </div>

    <!-- Logout -->
    <div class="px-5">
      <form action="{% url 'auth:logout' %}" method="post">
        {% csrf_token %}
        <button type="submit"
                class="flex items-center text-red-600 hover:bg-red-50 px-4 py-3 rounded-lg w-full">
          <i class="fas fa-sign-out-alt mr-3"></i>
          <span class="sidebar-label">Logout</span>
        </button>
      </form>
    </div>
  </nav>
</div>
